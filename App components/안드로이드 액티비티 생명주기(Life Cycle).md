# [안드로이드 액티비티 생명주기(Life Cycle)](https://brunch.co.kr/@mystoryg/80)

## 안드로이드 액티비티 생명주기
> 생명주기를 쉽게 이해하려면 실제 화면에 표시 유무를 생각하면 된다. 먼저 최초로 앱을 실행하면 onCreate()가 호출되는데 이때 초기화 관련 작업을 하면 좋다. 다음으로 onStart()가 호출되는데 이 시점부터 사용자가 액티비티를 볼 수 있다. 그리고 액티비티가 실제 사용자와 상호작용이 가능한 포그라운드에 위치하면 onResume()이 호출된다. 이 상태를 액티비티가 실행 중인 것으로 본다.

> 반대로 액티비티가 실행 중인 상태에서 사용자와 상호작용이 불가능한 상태, 즉 포커스를 잃은 상태가 되면 onPause()가 호출된다. onStop()은 액티비티가 더 이상 보이지 않을 때 호출된다. 그리고 액티비티가 종료되거나 앱 프로세스 자체가 종료되면 onDestroy()가 호출된다.

<p align="center">
  <img src="https://t1.daumcdn.net/thumb/R1280x0/?fname=http://t1.daumcdn.net/brunch/service/user/2Kn8/image/LMm0LctaUHwEAW5jmD1B9R2N64w.PNG">
</p>

> 주의할 점은 **불투명한 새로운 액티비티**가 최상단으로 올라와서 기존 액티비티가 완전히 보이지 않게 되면 onPause()에 이어서 **onStop()까지 바로 호출**된다는 것이다. 생각해보자. 불투명 새로운 액티비티가 최상단으로 올라오면 기존 액티비티는 사용자와 더 이상 상호작용을 할 수 없다. 포커스도 새로운 액티비티에 맞춰진다. 그렇기 때문에 onPause()가 호출될 것이다. 또한 불투명하기 때문에 기존 액티비티가 보이지 않으므로 onStop()까지 호출되는 것이다.

> 따라서 **onPause()까지만 호출된 상태를 확인하고 싶다면 투명한 새로운 액티비티를 실행**해야 한다. 이때도 실제로 투명하게 보여야만 되는 것은 아니다. 새로 호출되는 액티비티의 스타일 속성이 투명하다고 선언만 되어 있으면 해당 액티비티는 투명 액티비티라고 간주하고 onPause()까지만 호출된다. 예를 들면 다음과 같이 스타일을 주면 투명 액티비티로 간주된다. 하지만 실제 실행 시에는 백그라운드 색상이 투명하지 않기 때문에 불투명하게 보인다.

```
<style name="Theme.AppCompat.Translucent">
    <item name="android:windowIsTranslucent">true</item>
</style>
```

> 또한 **다이얼로그를 띄워서 액티비티가 최상단이 아닌 상황**에는 onPause()가 호출되어야 할 것 같지만 실제로는 그렇지 않다. 다이얼로그가 액티비티의 일부이기 때문이다. 즉, 새로운 액티비티가 최상단으로 온 상황이 아니기 때문이다. 따라서 **아무런 함수가 호출되지 않는다.**
